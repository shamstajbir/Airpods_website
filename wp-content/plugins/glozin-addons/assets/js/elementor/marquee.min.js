class GlozinMarqueeWidgetHandler extends elementorModules.frontend.handlers
  .Base {
  getDefaultSettings() {
    return {
      selectors: {
        container: ".glozin-elementor--marquee",
        inner: ".glozin-marquee--inner",
        items: ".glozin-marquee--original",
      },
    };
  }
  getDefaultElements() {
    const e = this.getSettings("selectors");
    return {
      $container: this.$element.find(e.container),
      $inner: this.$element.find(e.inner),
      $items: this.$element.find(e.items),
    };
  }
  dulicateItems() {
    const i = this.getElementSettings(),
      r = this.elements.$inner,
      s = this.elements.$items;
    r.imagesLoaded(function () {
      let n,
        t =
          (parseInt(Math.ceil(jQuery(window).width() / s.outerWidth(true))) ||
            0) + 1,
        e = (1 / parseFloat(i.speed)) * (s.outerWidth(true) / 350);
      r.css("--gz-marquee-speed", e + "s");
      for (let e = 1; e <= t; e++) {
        n = s.clone();
        n.addClass("glozin-marquee--duplicate");
        n.removeClass("glozin-marquee--original");
        n.css("--gz-marquee-index", String(e));
        n.appendTo(r);
      }
    });
  }
  onInit(...e) {
    super.onInit(...e);
    this.dulicateItems();
  }
}
jQuery(window).on("elementor/frontend/init", () => {
  elementorFrontend.hooks.addAction(
    "frontend/element_ready/glozin-marquee.default",
    (e) => {
      elementorFrontend.elementsHandler.addHandler(GlozinMarqueeWidgetHandler, {
        $element: e,
      });
    }
  );
});
